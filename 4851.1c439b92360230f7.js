"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(T,u,l)=>{l.r(u),l.d(u,{HomePageModule:()=>P});var g=l(6895),i=l(5035),d=l(433),m=l(2598),p=l(6551),t=l(8256),h=l(9859);function f(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"ion-list")(1,"ion-card",11)(2,"ion-card-header")(3,"ion-card-title"),t._uU(4),t.qZA(),t.TgZ(5,"ion-card-subtitle"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-card-content"),t._uU(8),t.qZA(),t.TgZ(9,"ion-button",12),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.like(s.id))}),t._UZ(10,"ion-icon",13),t.qZA(),t.TgZ(11,"ion-button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit,r=t.oxw();return t.KtG(r.dislike(s.id))}),t._UZ(12,"ion-icon",15),t.qZA()()()}if(2&n){const e=a.$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.hij("Likes ",e.likes,""),t.xp6(2),t.hij(" ",e.content," ")}}const _=[{path:"",component:(()=>{class n{constructor(e){this.service=e,this.posts=[],this.post={id:0,title:"",content:"",likes:0,created_at:new Date,comments:[]},this.postsRef=this.service.getPostsData(),(0,p.jM)(this.postsRef,o=>{o.forEach(c=>{let s=this.posts.findIndex(r=>r.id===c.val().id);-1===s?this.posts.push(c.val()):this.posts[s]=c.val()})})}save(){this.post.id=this.posts.length+1,this.posts.push(this.post),this.service.writePostData(this.post),this.cancel()}cancel(){this.post={id:0,title:"",content:"",likes:0,created_at:new Date,comments:[]}}like(e){this.posts.filter(o=>o.id===e)[0].likes++,this.service.writePostData(this.posts.filter(o=>o.id===e)[0])}dislike(e){this.posts.filter(o=>o.id===e)[0].likes--,this.service.writePostData(this.posts.filter(o=>o.id===e)[0])}comment(e){this.posts.filter(o=>o.id===e)[0].comments.push({id:this.posts.filter(o=>o.id===e)[0].comments.length+1,content:"Comment",created_at:new Date}),this.service.writePostData(this.posts.filter(o=>o.id===e)[0])}trackByFn(e,o){return o.id}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:26,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],["id","container"],["id","content"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["expand","","color","success",3,"click"],["expand","","color","light",3,"click"],["id","posts-list"],[4,"ngFor","ngForOf","ngForTrackBy"],["fill","outlined"],["fill","solid","color","danger",3,"click"],["name","heart","fill","solid"],["fill","solid","color","medium",3,"click"],["name","heart-dislike","fill","solid"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t._uU(3," FedniPost "),t.qZA()()(),t.TgZ(4,"ion-content",1)(5,"div",2)(6,"div",3)(7,"ion-card")(8,"ion-card-header")(9,"ion-card-title"),t._uU(10,"Add new post"),t.qZA()(),t.TgZ(11,"ion-card-content")(12,"ion-item")(13,"ion-label",4),t._uU(14,"Title"),t.qZA(),t.TgZ(15,"ion-input",5),t.NdJ("ngModelChange",function(s){return o.post.title=s}),t.qZA()(),t.TgZ(16,"ion-item")(17,"ion-label",4),t._uU(18,"Content"),t.qZA(),t.TgZ(19,"ion-textarea",6),t.NdJ("ngModelChange",function(s){return o.post.content=s}),t.qZA()()()(),t.TgZ(20,"ion-button",7),t.NdJ("click",function(){return o.save()}),t._uU(21,"Save"),t.qZA(),t.TgZ(22,"ion-button",8),t.NdJ("click",function(){return o.cancel()}),t._uU(23,"Cancel"),t.qZA()(),t.TgZ(24,"div",9),t.YNc(25,f,13,3,"ion-list",10),t.qZA()()()),2&e&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("fullscreen",!0),t.xp6(11),t.Q6J("ngModel",o.post.title),t.xp6(4),t.Q6J("ngModel",o.post.content),t.xp6(6),t.Q6J("ngForOf",o.posts)("ngForTrackBy",o.trackByFn))},dependencies:[g.sg,d.JJ,d.On,i.YG,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.W2,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.g2,i.wd,i.sr,i.j9],styles:["ion-content[_ngcontent-%COMP%]{background-color:azure}#container[_ngcontent-%COMP%]{text-align:center;color:#333;width:70%;margin:0 auto}#posts-list[_ngcontent-%COMP%]{max-width:90%;justify-self:center;margin:0 auto}"]}),n})()}];let Z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.Bz.forChild(_),m.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,d.u5,i.Pc,Z]}),n})()}}]);